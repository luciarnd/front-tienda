<div id="producto-container">
    <div class="cabecera-producto">
        <div class="titulo-producto">
            <h2>Productos</h2>
            <a (click)="onOpenModal(null!, 'add')" class="btn btn-outline-primary btn-sm tooltips">
                <i class="fa fa-plus fa-xs"></i>
            </a>
        </div>
        <div id="descarga">
            <a (click)="descargarExcel()" class="btn btn-outline-primary tooltips"><span>Descargar Excel</span></a>
        </div>
    </div>
    <table>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripcion</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Categoria</th>
            <th>Editar</th>
            <th>Eliminar</th>
        </tr>
        <tr *ngFor="let producto of productos | paginate: {itemsPerPage: 10, currentPage: page}" id="tbody">
            <td>{{producto.id}}</td>
            <td>{{producto.nombre}}</td>
            <td>{{producto.descripcion}}</td>
            <td>{{producto.precio}}</td>
            <td>{{producto.stock}}</td>
            <td>{{producto.categoriaNombre}}</td>
            <td></td>
            <td></td>
        </tr>
    </table>
</div>

<pagination-controls (pageChange)="page = $event" nextLabel="Siguiente" previousLabel="Anterior" class="paginator"></pagination-controls>

<div class="modal fade" id="addProductoModal" tabindex="-1" role="dialog" aria-labelledby="addProductoModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
       <div class="modal-content">
          <div class="modal-header">
             <h5 class="modal-title" id="addCategoriaModalLabel">AÃ±adir Producto</h5>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
             </button>
          </div>
          <div class="modal-body">
             <form #addForm="ngForm" (ngSubmit)="onAddProducto(addForm)">
             <div class="form-group">
                <label for="nombre">Nombre<span id="obligatorio"> *</span></label>
                <input type="text" ngModel name="nombre" class="form-control" id="nombre" placeholder="Nombre" required>
             </div>
             <div class="form-group">
                <label for="descripcion">Descripcion</label>
                <input type="text" ngModel name="descripcion" class="form-control" id="descripcion" placeholder="Descripcion">
             </div>
             <div class="form-group">
                <label for="precio">Precio<span id="obligatorio"> *</span></label>
                <input type="number" ngModel name="precio" class="form-control" id="precio" placeholder="Precio" required>
             </div>
             <div class="form-group">
                <label for="stock">Stock<span id="obligatorio"> *</span></label>
                <input type="number" ngModel name="stock" class="form-control" id="stock" placeholder="Stock" required>
             </div>
             <div class="form-group">
                <label for="categoria">Categoria<span id="obligatorio"> *</span></label>
                <select ngModel name="categoria" class="form-control form-select" id="categoria">
                                <option selected>Elige la categoria</option>
                                <option *ngFor="let categoria of categorias" value="{{categoria.id}}">{{categoria.nombre}}</option>
                </select>
             </div>
             <div class="campoObligatorio">
                <p>Todos los campos marcados con <span id="obligatorio"> *</span> son obligatorios.</p>
            </div>
             <div class="modal-footer">
                <button type="button" id="add-producto-form" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary" >Guardar</button>
             </div>
             </form>
          </div>
       </div>
    </div>
 </div>